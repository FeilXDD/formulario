let alumnos = [
    {
        tipodoc: "CC",
        documento: 1000135417,
        nombres: "Yudi Xiomara",
        apellidos: "Molina Forero",
        genero: "F",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1000990991,
        nombres: "Arleth Duvan",
        apellidos: "Ramirez Vera",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1092157210,
        nombres: "Karla Andrea",
        apellidos: "Loepardi Gomez",
        genero: "F",
        estado: "R",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1000988685,
        nombres: "Geraldine Fabiana",
        apellidos: "Ria�o Vargas",
        genero: "F",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1031642892,
        nombres: "Daniela",
        apellidos: "Navarro Ascencio",
        genero: "F",
        estado: "R",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1026581688,
        nombres: "Diana Mayerly",
        apellidos: "Ahumada Mahecha",
        genero: "F",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1070326569,
        nombres: "Carlos Manuel",
        apellidos: "Mej�a Herrera",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1030697126,
        nombres: "Diego Fernando",
        apellidos: "Guatibonza Erazo",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1000934782,
        nombres: "Laura Alejandra",
        apellidos: "Sandoval Salazar",
        genero: "F",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1011088352,
        nombres: "Nicolas",
        apellidos: "Henao Martinez",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "TI",
        documento: 1028481888,
        nombres: "Thomas Jefrey",
        apellidos: "Rodriguez Ospina",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1034278726,
        nombres: "Natalia",
        apellidos: "Garcia Moreno",
        genero: "F",
        estado: "R",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1013576918,
        nombres: "Daniela Valentina",
        apellidos: "Barrera Oses",
        genero: "F",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1000381531,
        nombres: "Carlos Andres",
        apellidos: "Morales Montes",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1013099099,
        nombres: "Maria Paula",
        apellidos: "Arias Hurtado",
        genero: "F",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1073709068,
        nombres: "Santiago",
        apellidos: "Mejia Bernal",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1073695794,
        nombres: "Nataly",
        apellidos: "Sosa Yara",
        genero: "F",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "TI",
        documento: 1064193348,
        nombres: "Marcos El�as",
        apellidos: "Montes Cruz",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1030697209,
        nombres: "Luis Alberto",
        apellidos: "Martinez Martinez",
        genero: "M",
        estado: "R",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1032511437,
        nombres: "Richard Efrain",
        apellidos: "Marcano Vargas",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1000255735,
        nombres: "Sergio Antonio",
        apellidos: "Morales Zamudio",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1002800495,
        nombres: "Giovany",
        apellidos: "Zuluaga Manrique",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1024473795,
        nombres: "Jeison Alejandro",
        apellidos: "Zambrano Alzate",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1043639243,
        nombres: "Dilan Jose",
        apellidos: "Villa Ramos",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1000129971,
        nombres: "Santiago",
        apellidos: "Henao Ot�lora",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1193549523,
        nombres: "Brayan Steven",
        apellidos: "Ramirez Diaz",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
    {
        tipodoc: "CC",
        documento: 1123800894,
        nombres: "Juan David",
        apellidos: "Hurtado Rodriguez",
        genero: "M",
        estado: "A",
        ciudadnac: "Bogot�",
    },
]

function Buscar() {
    let doc = parseInt(document.getElementById("tex-doc").value);
    let busqueda = alumnos.find(i => i.documento === doc);
    if (typeof busqueda == "undefined") {
        alert("Es un alumno nuevo");
    } else {
        document.getElementById("tex-nombre").value = busqueda.nombres;
        document.getElementById("tex-tipo-doc").value = busqueda.tipodoc;
        document.getElementById("tex-apellido").value = busqueda.apellidos;
        document.getElementById("tex-genero").value = busqueda.genero;
        document.getElementById("tex-ciudad-nac").value = busqueda.ciudadnac;
        document.getElementById("tex-estado").value = busqueda.estado;
    }
}

function Guardar() {
    let newAlum = {
        tipodoc: "",
        documento: 0,
        nombres: "",
        apellidos: "",
        genero: "",
        estado: "",
        ciudadnac: "",
    }
    newAlum.tipodoc = document.getElementById("tex-tipo-doc").value;
    newAlum.documento = parseInt(document.getElementById("tex-doc").value);
    newAlum.nombres = document.getElementById("tex-nombre").value;
    newAlum.apellidos = document.getElementById("tex-apellido").value;
    newAlum.genero = document.getElementById("tex-genero").value;
    newAlum.estado = document.getElementById("tex-estado").value;
    newAlum.ciudadnac = document.getElementById("tex-ciudad-nac").value;
    alumnos.push(newAlum);
}

function Modificar() {
    let doc = parseInt(document.getElementById("tex-doc").value);
    let indice = alumnos.findIndex(i => i.documento === doc);

    if (indice !== -1) {
        alumnos[indice].tipodoc = document.getElementById("tex-tipo-doc").value;
        alumnos[indice].nombres = document.getElementById("tex-nombre").value;
        alumnos[indice].apellidos = document.getElementById("tex-apellido").value;
        alumnos[indice].genero = document.getElementById("tex-genero").value;
        alumnos[indice].estado = document.getElementById("tex-estado").value;
        alumnos[indice].ciudadnac = document.getElementById("tex-ciudad-nac").value;
    } else {
        alert("Alumno no encontrado.");
    }
}

function BusquedaMasiva() {
    let tipDoc = document.getElementById("tex-tipo-doc").value;
    let nom = document.getElementById("tex-nombre").value;
    let ape = document.getElementById("tex-apellido").value;
    let gen = document.getElementById("tex-genero").value;
    let est = document.getElementById("tex-estado").value;
    let ciu = document.getElementById("tex-ciudad-nac").value;

    let encontrado = alumnos.filter(
        x => x.nombres.includes(nom) &&
            x.tipodoc.includes(tipDoc) &&
            x.apellidos.includes(ape) &&
            x.genero.includes(gen) &&
            x.estado.includes(est) &&
            x.ciudadnac.includes(ciu)
    );

    let salida = "";

    encontrado.forEach(i => {
        let generoCom = "";
        let actRet = "";

        if (i.genero === "M") {
            generoCom = "MASCULINO";
        } else if (i.genero === "F") {
            generoCom = "FEMENINO";
        } else {
            generoCom = "OTRO";
        }



        if (i.estado === "R") {
            actRet = "RETIRADO";
        } else {
            actRet = "ACTIVO";
        }

        salida += `<tr>
            <td>${i.documento}</td>
            <td>${i.tipodoc}</td>
            <td>${i.nombres}</td>
            <td>${i.apellidos}</td>
            <td>${generoCom}</td>
            <td>${actRet}</td>
            <td>${i.ciudadnac}</td>
        </tr>`;
    });

    document.getElementById("cuerpo").innerHTML = salida;
}

function Retirado() {
    let doc = parseInt(document.getElementById("tex-doc").value);
    let indice = alumnos.findIndex(i => i.documento === doc);

    if (indice !== -1) {
        alumnos[indice].estado = "R";
        alert("Alumno retirado exitosamente.");
    } else {
        alert("Alumno no encontrado.");
    }
}

